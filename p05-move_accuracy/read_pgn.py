import chess.pgn
import io

pgn_string = "1. e4 {[%clk 0:10:00]} 1... e5 {[%clk 0:09:55.6]} 2. Nf3 {[%clk 0:09:57.4]} 2... d6 {[%clk 0:09:50.7]} 3. Bc4 {[%clk 0:09:54.3]} 3... h6 {[%clk 0:09:46.4]} 4. O-O {[%clk 0:09:45.9]} 4... Nf6 {[%clk 0:09:42.9]} 5. d3 {[%clk 0:09:39.7]} 5... c6 {[%clk 0:09:37.3]} 6. Nc3 {[%clk 0:09:35.8]} 6... b5 {[%clk 0:09:35.3]} 7. Bb3 {[%clk 0:09:32.3]} 7... Bb7 {[%clk 0:09:33.7]} 8. a4 {[%clk 0:09:25.2]} 8... b4 {[%clk 0:09:31.1]} 9. Ne2 {[%clk 0:09:18.3]} 9... a5 {[%clk 0:09:29.1]} 10. c4 {[%clk 0:09:12.9]} 10... bxc3 {[%clk 0:09:19.7]} 11. bxc3 {[%clk 0:09:10.9]} 11... c5 {[%clk 0:09:18.3]} 12. Rb1 {[%clk 0:09:08.2]} 12... Bc6 {[%clk 0:09:16.1]} 13. Be3 {[%clk 0:08:55.2]} 13... Nbd7 {[%clk 0:09:13.7]} 14. Bd5 {[%clk 0:08:47]} 14... Bxd5 {[%clk 0:08:59.4]} 15. exd5 {[%clk 0:08:44.9]} 15... Nxd5 {[%clk 0:08:56.9]} 16. c4 {[%clk 0:08:41.8]} 16... N5f6 {[%clk 0:08:54.7]} 17. Nc3 {[%clk 0:08:25.1]} 17... Rb8 {[%clk 0:08:48.6]} 18. Rxb8 {[%clk 0:08:08]} 18... Qxb8 {[%clk 0:08:45.5]} 19. Qc2 {[%clk 0:08:02.5]} 19... Qd8 {[%clk 0:08:40.8]} 20. Nd5 {[%clk 0:07:54.4]} 20... Nxd5 {[%clk 0:08:36.6]} 21. cxd5 {[%clk 0:07:52.8]} 21... Be7 {[%clk 0:08:33.2]} 22. Rb1 {[%clk 0:07:46.2]} 22... O-O {[%clk 0:08:30.2]} 23. d4 {[%clk 0:07:37.9]} 23... cxd4 {[%clk 0:08:19.7]} 24. Bd2 {[%clk 0:07:29.2]} 24... Nb6 {[%clk 0:08:10.9]} 25. Bxa5 {[%clk 0:07:23.4]} 25... Qb8 {[%clk 0:08:00.2]} 26. Rxb6 {[%clk 0:07:16.4]} 26... Qa7 {[%clk 0:07:42.4]} 27. Qd2 {[%clk 0:07:05]} 27... Bd8 {[%clk 0:07:39.7]} 28. Rxd6 {[%clk 0:06:53.6]} 28... Bxa5 {[%clk 0:07:36.3]} 29. Qd3 {[%clk 0:06:43.5]} 29... Bc3 {[%clk 0:07:28.4]} 30. h3 {[%clk 0:06:22.1]} 30... Qxa4 {[%clk 0:07:16.5]} 31. Nxe5 {[%clk 0:06:17.1]} 31... Qe8 {[%clk 0:07:08]} 32. Nf3 {[%clk 0:05:58.3]} 32... Qe7 {[%clk 0:06:48]} 33. Rc6 {[%clk 0:05:49.2]} 33... Rd8 {[%clk 0:06:38.6]} 34. Nxd4 {[%clk 0:05:09.5]} 34... Rxd5 {[%clk 0:06:14.4]} 35. Qxc3 {[%clk 0:05:05.1]} 35... Qe4 {[%clk 0:06:08.9]} 36. Nf3 {[%clk 0:04:37.4]} 36... Rd1+ {[%clk 0:06:01]} 37. Kh2 {[%clk 0:04:34.9]} 37... Qf4+ {[%clk 0:05:52.2]} 38. g3 {[%clk 0:04:21.5]} 38... Qe4 {[%clk 0:05:39.4]} 39. Rc8+ {[%clk 0:03:55.6]} 39... Kh7 {[%clk 0:05:36.3]} 40. Rc7 {[%clk 0:03:42.1]} 40... Rd3 {[%clk 0:05:29]} 41. Qb2 {[%clk 0:03:25.2]} 41... f6 {[%clk 0:05:13.7]} 42. Nh4 {[%clk 0:03:02.7]} 42... Rd1 {[%clk 0:04:55.3]} 43. Qb3 {[%clk 0:02:52.6]} 43... Qh1# {[%clk 0:04:45.8]} 0-1"

pgn = io.StringIO(pgn_string)
game = chess.pgn.read_game(pgn)

print(game.mainline_moves())

board = game.board()
for move in game.mainline_moves():
    print(move)
    board.push(move)    

print(board)


